---
import ClientRouter from 'astro/components/ClientRouter.astro';
import NowPlaying from './_now-playing.astro';
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>rdcsq</title>
    <link
      href="https://api.fontshare.com/v2/css?f[]=satoshi@1,2&display=swap"
      rel="stylesheet"
    />
    <ClientRouter />
  </head>
  <body class="bg-background text-foreground flex flex-col min-h-svh items-center">
    <header
      class="flex w-full pt-4 px-4 pb-5 justify-between items-center select-none max-w-4xl"
    >
      <a href="/" class="inline-flex items-center gap-2">
        <h1 class="font-semibold text-2xl">rdcsq</h1>
      </a>

      <nav>
        <a href="/blog">blog</a>
        <!-- <span aria-hidden="true">Â·</span> -->
      </nav>
    </header>
    <div class="bg-overlay-inverted rounded-3xl flex-grow w-full">
      <main class="prose max-w-4xl mx-auto my-0 px-4 pb-8 pt-6">
        <slot />
      </main>
    </div>
    <footer
      class="px-4 py-6 gap-4 grid grid-cols-1 lg:grid-cols-[2fr_1fr] max-w-4xl w-full"
    >
      <div class="select-none">
        <a
          href="https://bsky.app/profile/rdcsq.com"
          class="icon"
          target="_blank"
          aria-label="Bluesky"
        >
          <i class="i-simple-icons-bluesky" aria-details="Bluesky icon"></i>
        </a>
        <a
          href="https://github.com/rdcsq"
          class="icon"
          target="_blank"
          aria-label="GitHub"
        >
          <i class="i-simple-icons-github" aria-details="GitHub icon"></i>
        </a>
        <p class="text-sm text-ctp-subtext0 mt-2">
          made with <a href="https://astro.build" class="underline">Astro</a>
          and the <a href="https://fontshare.com" class="underline">Satoshi</a> font
        </p>
      </div>
      <section>
        <NowPlaying />
      </section>
    </footer>
    <script
      defer
      src="https://science.rdcsq.com/script.js"
      data-website-id="b894ac3e-874c-4da5-8507-d8389f51466c"
      data-domains="rdcsq.me,rdcsq.com"></script>
  </body>
</html>

<style is:global>
  :root {
    font-family: 'Satoshi', sans-serif;
    --color-background: 240deg 6% 10%;
    --color-foreground: 240deg 6% 90%;
    --color-foreground-highlight: 0deg 0% 98%;
    --color-overlay: 240deg 4% 16%;
    --color-overlay-inverted: 240deg 6% 7%;
  }

  .prose :where(p):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }

  .prose {
    @apply text-foreground;
  }

  .prose h1,
  .prose h2,
  .prose h3 {
    @apply font-semibold text-foreground-highlight;
  }

  .prose a:not(.button-link) {
    @apply text-foreground-highlight;
  }

  .astro-code {
    @apply !bg-overlay;
  }

  .prose code {
    @apply rounded-md bg-overlay p-1 text-foreground;
  }

  .icon {
    @apply inline-flex items-center justify-center rounded-full p-2 text-xl hover:bg-overlay;
  }

  .button-link {
    @apply inline-flex items-center gap-2 rounded-lg border border-overlay px-3 py-[0.15rem] align-middle text-foreground no-underline transition-all hover:scale-[1.02] hover:bg-foreground hover:text-overlay;
  }
</style>
